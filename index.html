<!DOCTYPE html>
<html>
  <head>
    <title>GitHub Copilot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0d1117">
    <link rel="manifest" href="manifest.json">
    <style>
      body { 
        margin: 0; 
        background: #0d1117; 
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        text-align: center;
        padding: 20px;
        box-sizing: border-box;
      }
      .logo { font-size: 48px; margin-bottom: 20px; }
      .button {
        background: #238636;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        font-size: 16px;
        cursor: pointer;
        margin: 10px;
        text-decoration: none;
        display: inline-block;
      }
      .button:hover { background: #2ea043; }
      .install-prompt { margin: 20px 0; }
      .countdown { font-size: 14px; color: #7d8590; margin-top: 20px; }
    </style>
  </head>
  <body>
    <div class="logo">ðŸ¤–</div>
    <h1>GitHub Copilot</h1>
    
    <div class="install-prompt" id="installPrompt">
      <p>Install this app for the best experience!</p>
      <button class="button" onclick="skipToRedirect()">Skip & Continue</button>
    </div>
    
    <div class="countdown" id="countdown">Auto-redirecting in <span id="timer">10</span> seconds...</div>
    
    <script>
      let timeLeft = 10;
      let countdownInterval;
      let hasBeenInstalled = false;

      // Check if running as PWA
      function isPWA() {
        return window.matchMedia('(display-mode: standalone)').matches || 
               window.navigator.standalone === true;
      }

      // If already installed as PWA, redirect immediately
      if (isPWA()) {
        window.location.replace('https://github.com/copilot');
      }

      // Listen for app installation
      window.addEventListener('appinstalled', () => {
        hasBeenInstalled = true;
        document.getElementById('installPrompt').innerHTML = 
          '<p>âœ… App installed! Redirecting...</p>';
        setTimeout(() => {
          window.location.replace('https://github.com/copilot');
        }, 2000);
      });

      // Countdown timer
      function updateCountdown() {
        document.getElementById('timer').textContent = timeLeft;
        timeLeft--;
        
        if (timeLeft < 0) {
          clearInterval(countdownInterval);
          if (!hasBeenInstalled) {
            window.location.replace('https://github.com/copilot');
          }
        }
      }

      function skipToRedirect() {
        clearInterval(countdownInterval);
        window.location.replace('https://github.com/copilot');
      }

      // Start countdown
      countdownInterval = setInterval(updateCountdown, 1000);
      updateCountdown(); // Initial call
    </script>
  </body>
</html>
